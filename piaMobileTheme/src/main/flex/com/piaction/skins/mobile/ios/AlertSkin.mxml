<?xml version="1.0" encoding="utf-8"?>
<s:SparkSkin xmlns:fx="http://ns.adobe.com/mxml/2009"
             xmlns:s="library://ns.adobe.com/flex/spark"
             xmlns:fb="http://ns.adobe.com/flashbuilder/2009" minWidth="300"
             minHeight="200">

    <fx:Metadata>
        <![CDATA[ 
    /** 
    * @copy spark.skins.spark.ApplicationSkin#hostComponent
    */
    [HostComponent("com.piaction.controls.SkinnableAlert")]
    ]]>
    </fx:Metadata>

    <fx:Script fb:purpose="styling">
        <![CDATA[
            import mx.core.FlexVersion;
            
            /* Define the skin elements that should not be colorized.
            For panel, border and title background are skinned, but the content area, background, border, and title text are not. */
            static private const exclusions:Array = ["background", "titleDisplay", "contentGroup", "controlBarGroup"
                                                     , "border"];
            
            
            /**
             * @private
             */
            override public function get colorizeExclusions():Array
            {
                return exclusions;
            }
            
            /**
             * @private
             */
            override protected function updateDisplayList(unscaledWidth:Number, unscaledHeight:Number):void
            {
                super.updateDisplayList(unscaledWidth, unscaledHeight);
            }
            
            private var cornerRadius:Number;
        ]]>
    </fx:Script>


    <!-- drop shadow can't be hittable so all other graphics go in this group -->
    <s:Group left="0" right="0" top="0" bottom="0">
        <s:Rect id="background" left="1" top="1" right="1" bottom="1"
                radiusX="20" alpha=".9">
            <s:fill>
                <s:SolidColor id="backgroundFill" color="#031037"/>
            </s:fill>
        </s:Rect>

        <s:Rect x="{background.width/4}" width="{background.width/2}" y="0"
                height="{background.height}">
            <s:fill>
                <s:LinearGradient rotation="0">
                    <s:GradientEntry color="#FFFFFF" ratio="0" alpha=".01"/>
                    <s:GradientEntry color="#FFFFFF" ratio=".2" alpha=".05"/>
                    <s:GradientEntry color="#FFFFFF" ratio=".5" alpha=".1"/>
                    <s:GradientEntry color="#FFFFFF" ratio=".8" alpha=".05"/>
                    <s:GradientEntry color="#FFFFFF" ratio="1" alpha=".01"/>
                </s:LinearGradient>
            </s:fill>
        </s:Rect>

        <s:Rect id="border" left="0" right="0" top="0" bottom="0" radiusX="20"
                alpha=".95">
            <s:stroke>
                <!--- @private -->
                <s:SolidColorStroke id="borderStroke" weight="2" color="#FFFFFF"/>
            </s:stroke>
        </s:Rect>

        <s:Path left="2" top="22" right="2" alpha=".2"
                data="
            M 0 0 
            C 40 15 80 15 131 0">
            <s:fill>
                <s:SolidColor color="#FFFFFF"/>
            </s:fill>
        </s:Path>

        <s:Rect id="top" left="2" top="2" right="2" height="20"
                topLeftRadiusX="20" topLeftRadiusY="20" topRightRadiusX="20"
                topRightRadiusY="20">
            <s:fill>
                <s:LinearGradient rotation="90">
                    <s:GradientEntry color="#FFFFFF" ratio="0" alpha=".8"/>
                    <s:GradientEntry color="#FFFFFF" ratio=".2" alpha=".6"/>
                    <s:GradientEntry color="#FFFFFF" ratio=".6" alpha=".4"/>
                    <s:GradientEntry color="#FFFFFF" ratio="1" alpha=".2"/>
                </s:LinearGradient>
            </s:fill>
        </s:Rect>

        <!--- Contains the vertical stack of titlebar content and controlbar. -->
        <s:Group left="1" right="1" top="1" bottom="1" id="contents">
            <s:layout>
                <s:VerticalLayout gap="0" paddingTop="15"
                                  horizontalAlign="justify"/>
            </s:layout>
            <s:Label id="titleDisplay" maxDisplayedLines="1" color="#FFFFFF"
                     left="10" right="10" minHeight="30" fontSize="18"
                     verticalAlign="middle" textAlign="center" fontWeight="bold">
                <s:filters>
                    <s:DropShadowFilter distance="1" angle="-90" color="#000000"
                                        blurY="1" blurX="0" alpha="0.7"/>
                </s:filters>
            </s:Label>

            <s:Label id="textDisplay" width="100%" height="100%" color="#FFFFFF"
                     paddingLeft="10" paddingRight="10" fontSize="18"/>

            <s:Group id="controlBarGroup" width="100%">
                <s:layout>
                    <s:HorizontalLayout paddingLeft="10" paddingRight="10"
                                        paddingTop="7" paddingBottom="7"
                                        gap="10" horizontalAlign="center"/>
                </s:layout>

            </s:Group>
        </s:Group>
    </s:Group>
</s:SparkSkin>
