<?xml version="1.0" encoding="utf-8"?>
<s:View xmlns:fx="http://ns.adobe.com/mxml/2009"
        xmlns:s="library://ns.adobe.com/flex/spark" title="ListWheelView"
        xmlns:components="com.piaction.components.*" xmlns:components1="com.pialabs.eskimo.components.*">

    <fx:Script>
        <![CDATA[
            import mx.collections.ArrayCollection;
            
            private var timeDP:ArrayCollection = new ArrayCollection([{label: "15 minutes"}, {label: "20 minutes"}
                                                                       , {label: "30 minutes"}, {label: "45 minutes"}]);
            private var timeDP2:ArrayCollection = new ArrayCollection([{label: "10 minutes"}, {label: "20 minutes"}
                                                                        , {label: "30 minutes"}, {label: "40 minutes"}]);
            
            [Bindable]
            private var _currentDP:ArrayCollection = timeDP;
        ]]>
    </fx:Script>
    <s:layout>
        <s:VerticalLayout paddingTop="10" paddingRight="10" paddingBottom="10"
                          paddingLeft="10"/>
    </s:layout>

    <s:navigationContent>
        <s:Button label="Retour" click="navigator.popView()"/>
    </s:navigationContent>

    <s:HGroup width="100%">
        <components1:ListWheel id="listWheel" height="150"
                              dataProvider="{_currentDP}"/>
        <s:List id="simpleList" height="200" dataProvider="{_currentDP}"
                change="listWheel.animateToSelectedIndex(event.newIndex)"/>
        <s:Label text="Click the list to select an item in the wheel list"/>
    </s:HGroup>

    <s:ToggleButton id="swap" label="Swap DP"
                    click="_currentDP = swap.selected ? timeDP2 : timeDP"/>
    <s:Form>
        <s:FormHeading label="Parameters"/>
        <!-- Selected element -->
        <s:FormItem label="Selected element">
            <s:HGroup>
                <s:TextInput id="selectedIndexTextInput"
                             prompt="Enter the index (current: {listWheel.selectedIndex})"/>
                <s:Button label="Apply"
                          click="listWheel.animateToSelectedIndex( Number(selectedIndexTextInput.text) )"/>
            </s:HGroup>
        </s:FormItem>
        <!-- Selection color -->
        <s:FormItem label="Selection color gradient begin">
            <s:HGroup>
                <s:TextInput id="selectionColorBegin"
                             prompt="{'0x' + listWheel.getStyle('gradientColorBegin').toString(16)}"/>
                <s:Button label="Apply"
                          click="listWheel.setStyle('gradientColorBegin', Number(selectionColorBegin.text))"/>
            </s:HGroup>
        </s:FormItem>
        <s:FormItem label="Selection color gradient end">
            <s:HGroup>
                <s:TextInput id="selectionColorEnd"
                             prompt="{'0x' + listWheel.getStyle('gradientColorEnd').toString(16)}"/>
                <s:Button label="Apply"
                          click="listWheel.setStyle('gradientColorEnd', Number(selectionColorEnd.text))"/>
            </s:HGroup>
        </s:FormItem>
    </s:Form>

</s:View>
