<?xml version="1.0" encoding="utf-8"?>
<s:Skin xmlns:fx="http://ns.adobe.com/mxml/2009" 
        xmlns:s="library://ns.adobe.com/flex/spark" 
        xmlns:mx="library://ns.adobe.com/flex/mx" width="120" height="40" clipAndEnableScrolling="true">
  <!-- host component -->
  <fx:Metadata>
    [HostComponent("spark.components.CheckBox")]
  </fx:Metadata>
  
  <fx:Script>
    <![CDATA[
      override protected function updateDisplayList(unscaledWidth:Number, unscaledHeight:Number):void
      {
        super.updateDisplayList(unscaledWidth, unscaledHeight);
        
        
        glow.radiusX = unscaledHeight/2;
        border.radiusX = unscaledHeight/2;
        backgroundMaskRect.radiusX = unscaledHeight/2;
        glowMaskRect.radiusX = unscaledHeight/4;
        
        background.width = unscaledWidth * 2 - cursorGroup.width;
        
      }
    ]]>
  </fx:Script>
  
  <!-- states -->
  <s:states>
    <s:State name="up" stateGroups="normalStates"/>
    <s:State name="over" stateGroups="overStates, normalStates" />
    <s:State name="down" stateGroups="downStates, normalStates" />
    <s:State name="disabled" stateGroups="disabledStates, normalStates" />
    <s:State name="upAndSelected" stateGroups="selectedStates" />
    <s:State name="overAndSelected" stateGroups="overStates, selectedStates" />
    <s:State name="downAndSelected" stateGroups="downStates, selectedStates" />
    <s:State name="disabledAndSelected" stateGroups="disabledStates, selectedStates" />
    <s:State name="dragged" stateGroups="draggedStates"/>
    <s:State name="draggedAndSelected" stateGroups="draggedStates"/>
  </s:states>
  
  <!-- SkinParts
  name=iconDisplay, type=spark.primitives.BitmapImage, required=false
  name=labelDisplay, type=spark.core.IDisplayText, required=false
  -->
  
  <s:transitions>
    <s:Transition toState="upAndSelected" fromState="*">
      <s:Parallel>
        <s:Move target="{cursorGroup}" xFrom="{cursorGroup.x}" xTo="{unscaledWidth - cursorGroup.width}" duration="200"/>
      </s:Parallel>
    </s:Transition>
    <s:Transition fromState="*" toState="up">
      <s:Parallel>
        <s:Move target="{cursorGroup}" xTo="0" xFrom="{cursorGroup.x}" duration="200"/>
      </s:Parallel>
    </s:Transition>
  </s:transitions>
  
  <s:Rect id="border" top="0" right="0" bottom="0" left="0" radiusX="13">
    <s:stroke>
      <s:SolidColorStroke color="#989898"/>
    </s:stroke>
  </s:Rect>
  
  
  <s:Group  id="background" height="100%" width="150" mask="{backgroundMask}" x="{(cursorGroup.x - (background.width - cursorGroup.width)/2 )}">
    
    <s:Rect top="0" right="0" bottom="0" left="0" radiusX="13">
      <s:fill>
        <s:LinearGradient>
          <s:GradientEntry color="#0073F5" ratio="0"/>
          <s:GradientEntry color="#0073F5" ratio="0.5"/>
          <s:GradientEntry color="#EEEEEE" ratio="0.5"/>
          <s:GradientEntry color="#EEEEEE" ratio="1"/>
        </s:LinearGradient>
      </s:fill>
    </s:Rect>
    
    <s:Label text="I" verticalCenter="1" left="{(width-cursorGroup.width)/2}" color="#FFFFFF" verticalAlign="middle" fontSize="19" height="100%"/>
    <s:Label text="O" verticalCenter="1" right="{(width-cursorGroup.width)/2}" color="#777777" verticalAlign="middle" fontSize="19" height="100%"/>
    
    <s:filters>
      <s:DropShadowFilter inner="true" angle="90" alpha="0.2"/>
    </s:filters>
  </s:Group>
  
  <s:Group id="backgroundMask" top="1" right="1" bottom="1" left="1" >
    <s:Rect id="backgroundMaskRect" top="0" right="0" bottom="0" left="0" radiusX="13">
      <s:fill>
      <s:SolidColor color="#EEEEEE"/>
      </s:fill>
    </s:Rect>
  </s:Group>
  
  
  
  <s:Rect id="glow" top="1"  right="1" bottom="1" left="1" radiusX="13" mask="{glowMask}">
    <s:fill>
      <s:LinearGradient rotation="90">
        <s:GradientEntry color="#FFFFFF" ratio="0.5" alpha="0.2"/>
        <s:GradientEntry color="#FFFFFF" ratio="1" alpha="0.3"/>
      </s:LinearGradient>
    </s:fill>
  </s:Rect>
  
  <s:Group id="glowMask" top="1" right="1" bottom="1" left="1" >
    <s:Rect id="glowMaskRect" top="{height/2}" right="3" bottom="0" left="3" radiusX="7">
      <s:fill>
        <s:SolidColor color="#EEEEEE"/>
      </s:fill>
    </s:Rect>
  </s:Group>
  
  <s:Group id="cursorGroup" width="{height}" height="{height}"  x.selectedStates="{width - cursorGroup.width}" x.normalStates="0">
    <s:Ellipse top="0" right="0" bottom="0" left="0">
      <s:stroke>
        <s:SolidColorStroke color="#989898"/>
      </s:stroke>
      <s:fill>
        <s:SolidColor color="#EFEFEF"/>
      </s:fill>
    </s:Ellipse>
    <s:Ellipse top="3" right="3" bottom="3" left="3">
      <s:fill>
        <s:LinearGradient rotation="90">
          <s:GradientEntry color="#000000" alpha="0.15" ratio="0"/>
          <s:GradientEntry color="#000000" alpha="0" ratio="1"/>
        </s:LinearGradient>
      </s:fill>
    </s:Ellipse>
  </s:Group>
  
  
</s:Skin>
