<?xml version="1.0" encoding="utf-8"?>
<s:SparkSkin xmlns:fx="http://ns.adobe.com/mxml/2009" xmlns:s="library://ns.adobe.com/flex/spark" 
             xmlns:fb="http://ns.adobe.com/flashbuilder/2009"
             minWidth="300" minHeight="200"
             >
  
  <fx:Metadata>
    <![CDATA[ 
    /** 
    * @copy spark.skins.spark.ApplicationSkin#hostComponent
    */
    [HostComponent("com.piaction.controls.SkinnableAlert")]
    ]]>
  </fx:Metadata> 
  
  <fx:Script fb:purpose="styling">
    <![CDATA[
      import mx.core.FlexVersion;
      
      /* Define the skin elements that should not be colorized. 
      For panel, border and title background are skinned, but the content area, background, border, and title text are not. */
      static private const exclusions:Array = ["background", "titleDisplay", "contentGroup", "controlBarGroup", "border", "titleSeparation"];
      
      
      /**
       * @private
       */
      override public function get colorizeExclusions():Array 
      {
        return exclusions;
      }
      
      /**
       * @private
       */
      override protected function updateDisplayList(unscaledWidth:Number, unscaledHeight:Number):void
      {
        super.updateDisplayList(unscaledWidth, unscaledHeight);
        
        if(titleDisplay && titleSeparation)
        {
          titleSeparation.visible = titleDisplay.text != ""; 
        }
      }
      
      private var cornerRadius:Number;
    ]]>
  </fx:Script>
  
  
  <!-- drop shadow can't be hittable so it stays sibling of other graphics -->
  <!--- @private -->
  <!--<s:RectangularDropShadow id="dropShadow" blurX="20" blurY="20" alpha="0.32" distance="11" 
  angle="90" color="#000000" left="0" top="0" right="0" bottom="0"/>-->
  
  <!-- drop shadow can't be hittable so all other graphics go in this group -->
  <s:Rect id="background" left="1" top="1" right="1" bottom="1" radiusX="5">
    <s:fill>
      <s:SolidColor id="backgroundFill" color="#424242" alpha="0.9"/>
    </s:fill>
  </s:Rect>
  <s:Rect id="actionBackground" left="1" right="1" bottom="1" height="{controlBarGroup.height}" 
          bottomLeftRadiusX="5" bottomRightRadiusX="5">
    <s:fill>
      <s:SolidColor id="actionBackgroundFill" color="#B7B7B7" alpha="1"/>
    </s:fill>
  </s:Rect>
  <s:Rect id="border" left="0" top="0" right="0" bottom="0" radiusX="10">
    <s:stroke>
      <s:SolidColorStroke color="#FFFFFF" weight="3"/>
    </s:stroke>
  </s:Rect>
  
  <s:Line id="titleSeparation" left="10" right="10" top="{titleDisplay.y + titleDisplay.height}">
    <s:stroke>
      <s:LinearGradientStroke weight="1">
        <s:GradientEntry ratio="0" color="#FFFFFF" alpha="0"/>
        <s:GradientEntry ratio="0.5" color="#FFFFFF" alpha="1"/>
        <s:GradientEntry ratio="1" color="#FFFFFF" alpha="0"/>
      </s:LinearGradientStroke>
    </s:stroke>
  </s:Line>
  
  <!--- Contains the vertical stack of titlebar content and controlbar. -->
  <s:Group left="3" right="3" top="3" bottom="3" id="contents" >
    <s:layout>
      <s:VerticalLayout gap="5" paddingTop="5" horizontalAlign="justify" />
    </s:layout>
    <s:Label id="titleDisplay" maxDisplayedLines="1" color="#FFFFFF"
             left="10" right="10" minHeight="30"
             fontSize="18" verticalAlign="middle" textAlign="center" fontWeight="bold">
    </s:Label>
    
    <s:Label id="textDisplay" width="100%" height="100%" color="#FFFFFF" paddingLeft="10" paddingRight="10"
             fontSize="18" />
    
    <s:Group id="controlBarGroup" width="100%">
      <s:layout>
        <s:HorizontalLayout paddingLeft="10" paddingRight="10" paddingTop="7" paddingBottom="7" gap="10" horizontalAlign="center" />
      </s:layout>
      
    </s:Group>
  </s:Group>
</s:SparkSkin>
