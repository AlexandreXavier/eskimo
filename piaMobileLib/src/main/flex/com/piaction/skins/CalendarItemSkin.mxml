<?xml version="1.0" encoding="utf-8"?>
<s:SparkSkin xmlns:fx="http://ns.adobe.com/mxml/2009" 
             xmlns:s="library://ns.adobe.com/flex/spark" 
             minWidth="21" minHeight="21"
             removedFromStage="_label.text=''; headerLabel.text=''"
             >
  
  <fx:Metadata>
    <![CDATA[
    /** 
    * @copy spark.skins.spark.ApplicationSkin#hostComponent
    @langversion 3.0
    @playerversion Flash 10
    @playerversion AIR 1.5
    @productversion Flex 4
    */
    [HostComponent("com.piaction.components.CalendarItem")]
    ]]>
  </fx:Metadata>
  
  <fx:Script>
    <![CDATA[
      override protected function updateDisplayList(unscaledWidth:Number, unscaledHeight:Number):void
      {
        headerGroup.includeInLayout = headerGroup.visible = height > 50;
        
        super.updateDisplayList(unscaledWidth, unscaledHeight);
      }
      
      override protected function commitProperties():void
      {
        super.commitProperties();
        
      }
      
      
    ]]>
  </fx:Script>
  
  <s:states>
    <s:State name="normal"/>
    <s:State name="highlight"/>
  </s:states>
  
  <s:Rect left="5" right="3" top="0" bottom="0" radiusX="8" radiusY="8" alpha="0.8">
    <s:stroke>
      <s:SolidColorStroke color="#444444" weight="1"/>
      </s:stroke>
    <s:fill>
      <s:SolidColor color="0xE48701" color.highlight="0xFF0000"/>
    </s:fill>
  </s:Rect>
  
  <s:Rect id="halo" left="5" right="3" top="1" height="20" radiusX="8" radiusY="8">
    <s:fill>
      <s:LinearGradient rotation="90">
        <s:GradientEntry color="#FFFFFF" alpha="0.5" ratio="0"/>
        <s:GradientEntry color="#FFFFFF" alpha="0" ratio="1"/>
      </s:LinearGradient>
    </s:fill>
  </s:Rect>
  
  <s:Group  top="1" bottom="0" left="6" right="4" clipAndEnableScrolling="true">
    <s:layout>
      <s:VerticalLayout gap="0"/>
    </s:layout>
    <s:SkinnableContainer id="headerGroup" width="100%" backgroundAlpha="0" height="20">
      <s:Rect left="0" right="0" top="0" height="40" radiusX="8">
        <s:fill>
          <s:LinearGradient rotation="90">
            <s:GradientEntry ratio="0"  color="0xFFFFFF"  alpha="0.3"/>
            <s:GradientEntry ratio="0.5"  color="0xFFFFFF"  alpha="0.3"/>
            <s:GradientEntry ratio="0.5"  color="0xFFFFFF"  alpha="0"/>
            <s:GradientEntry ratio="1"  color="0xFFFFFF"  alpha="0"/>
          </s:LinearGradient>
        </s:fill>
      </s:Rect>
      <s:Label id="headerLabel"
               paddingLeft="10" paddingRight="10" paddingTop="3" paddingBottom="3"
               width="100%" height="100%" verticalCenter="1"/>
    </s:SkinnableContainer>
    <s:Group width="100%" height="100%">
      <s:layout>
        <s:VerticalLayout paddingLeft="10" paddingRight="10" paddingTop="8" paddingBottom="8"/>
      </s:layout>
      <s:Label id="_label" fontSize="14" width="100%" height="100%" maxDisplayedLines="-1"/>
    </s:Group>
  </s:Group>
  
</s:SparkSkin>
